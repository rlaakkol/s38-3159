<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
 width="600px" height="359px"
 viewBox="0 0 600 359"
 xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges"
 stroke-width="1" text-rendering="geometricPrecision">
<polygon fill="white" points="133,7 165,7 165,16 133,16"/>
<text x="150" y="16" textLength="31" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Client
</text>
<polygon fill="white" points="431,7 467,7 467,16 431,16"/>
<text x="450" y="16" textLength="35" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Server
</text>
<line x1="150" y1="22" x2="150" y2="54" stroke="black"/>
<line x1="450" y1="22" x2="450" y2="54" stroke="black"/>
<line x1="75" y1="27" x2="525" y2="27" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="187,30 412,30 412,39 187,39"/>
<text x="188" y="39" textLength="223" font-family="Helvetica" font-size="12" fill="black">
Subscribed to s1, s2 (on/off) and s3 (cam)
</text>
<line x1="150" y1="54" x2="150" y2="97" stroke="black"/>
<line x1="450" y1="54" x2="450" y2="97" stroke="black"/>
<line x1="450" y1="65" x2="150" y2="80" stroke="black"/>
<polygon fill="black" points="150,80 160,86 160,74"/>
<polygon fill="white" points="196,62 403,62 403,71 196,71"/>
<text x="197" y="71" textLength="205" font-family="Helvetica" font-size="12" fill="black">
publish, seq: 1, payload: {'s1': &lt;state&gt;}
</text>
<line x1="150" y1="97" x2="150" y2="140" stroke="black"/>
<line x1="450" y1="97" x2="450" y2="140" stroke="black"/>
<line x1="450" y1="108" x2="150" y2="123" stroke="black"/>
<polygon fill="black" points="150,123 160,129 160,117"/>
<polygon fill="white" points="196,105 403,105 403,114 196,114"/>
<text x="197" y="114" textLength="205" font-family="Helvetica" font-size="12" fill="black">
publish, seq: 1, payload: {'s3': &lt;state&gt;}
</text>
<line x1="150" y1="140" x2="150" y2="183" stroke="black"/>
<line x1="450" y1="140" x2="450" y2="183" stroke="black"/>
<line x1="450" y1="151" x2="150" y2="166" stroke="black"/>
<polygon fill="black" points="150,166 160,172 160,160"/>
<polygon fill="white" points="168,148 431,148 431,157 168,157"/>
<text x="169" y="157" textLength="261" font-family="Helvetica" font-size="12" fill="black">
publish /w ackthis, seq: 2, payload: {'s2': &lt;state&gt;}
</text>
<line x1="150" y1="183" x2="150" y2="226" stroke="black"/>
<line x1="450" y1="183" x2="450" y2="226" stroke="black"/>
<line x1="150" y1="194" x2="450" y2="209" stroke="black"/>
<polygon fill="black" points="450,209 440,215 440,203"/>
<polygon fill="white" points="219,191 379,191 379,200 219,200"/>
<text x="220" y="200" textLength="158" font-family="Helvetica" font-size="12" fill="black">
publish-ack, ackseq: 2, seq: 3
</text>
<line x1="450" y1="194" x2="150" y2="209" stroke="black"/>
<polygon fill="black" points="150,209 160,215 160,203"/>
<polygon fill="white" points="196,191 403,191 403,200 196,200"/>
<text x="197" y="200" textLength="205" font-family="Helvetica" font-size="12" fill="black">
publish, seq: 2, payload: {'s3': &lt;state&gt;}
</text>
<line x1="150" y1="226" x2="150" y2="258" stroke="black"/>
<line x1="450" y1="226" x2="450" y2="258" stroke="black"/>
<line x1="75" y1="231" x2="525" y2="231" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="232,234 367,234 367,243 232,243"/>
<text x="233" y="243" textLength="133" font-family="Helvetica" font-size="12" fill="black">
timeout since last ackthis
</text>
<line x1="150" y1="258" x2="150" y2="301" stroke="black"/>
<line x1="450" y1="258" x2="450" y2="301" stroke="black"/>
<line x1="450" y1="269" x2="150" y2="284" stroke="black"/>
<polygon fill="black" points="150,284 160,290 160,278"/>
<polygon fill="white" points="132,266 467,266 467,275 132,275"/>
<text x="133" y="275" textLength="333" font-family="Helvetica" font-size="12" fill="black">
publish /w ackthis, seq: 3, payload: {'s1': &lt;state&gt;, 's2': &lt;state&gt;}
</text>
<line x1="150" y1="301" x2="150" y2="344" stroke="black"/>
<line x1="450" y1="301" x2="450" y2="344" stroke="black"/>
<line x1="150" y1="312" x2="450" y2="327" stroke="black"/>
<polygon fill="black" points="450,327 440,333 440,321"/>
<polygon fill="white" points="219,309 379,309 379,318 219,318"/>
<text x="220" y="318" textLength="158" font-family="Helvetica" font-size="12" fill="black">
publish-ack, ackseq: 3, seq: 5
</text>
<line x1="450" y1="312" x2="150" y2="327" stroke="black"/>
<polygon fill="black" points="150,327 160,333 160,321"/>
<polygon fill="white" points="196,309 403,309 403,318 196,318"/>
<text x="197" y="318" textLength="205" font-family="Helvetica" font-size="12" fill="black">
publish, seq: 3, payload: {'s3': &lt;state&gt;}
</text>
<line x1="150" y1="323" x2="150" y2="359" stroke="black"/>
<line x1="450" y1="323" x2="450" y2="359" stroke="black"/>
</svg>
